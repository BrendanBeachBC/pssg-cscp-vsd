<div class="form-wrapper" style="position: relative;">
  <div [ngBusy]="[busy, busy2]"></div>
  <div class="row" [formGroup]="form">
    <div class="col-lg-3 col-sm-12" style="position: relative; padding-right: 50px;">
      <section class="application-nav">
        <h3>Victim Application</h3>
        <mat-vertical-stepper [linear]="true" (selectionChange)="gotoPage($event)" #stepper>
          <ng-template matStepperIcon="edit">
            <mat-icon>done</mat-icon>
          </ng-template>
          <ng-template matStepperIcon="number">
          </ng-template>
          <mat-step label="Overview"></mat-step>
          <mat-step label="Personal Information & Addresses"></mat-step>
          <mat-step label="Crime Information"></mat-step>
          <mat-step label="Medical & Dental Information"></mat-step>
          <mat-step label="Expense & Loss Information"></mat-step>
          <mat-step label="Employment Income"></mat-step>
          <mat-step label="Application on Behalf of Victim"></mat-step>
          <mat-step label="Declaration"></mat-step>
          <mat-step label="Authorization"></mat-step>
          <mat-step label="Review & Submit"></mat-step>
        </mat-vertical-stepper>
      </section>

      <section class="submit-container learn-benefits">
        <div class="submit-content">
          <h2>Want to learn more about your Benefits?</h2>
          <p>Click below to open a new window and view the full summary of benefits.</p>
          <p>You will not lose your progress on this application.</p>
          <p><a [attr.href]="summaryOfBenefitsUrl" target="_blank" class="btn btn-secondary">View Summary of Benefits</a></p>
        </div>
      </section>
    </div>

    <div class="col-lg-7 col-sm-12">
      <div [formGroup]="form">
        <div *ngIf="dataLoaded || true">
          <div formGroupName="introduction" class="hide-me" *ngIf="this.currentFormStep == 0">
            <h1>Overview</h1>

            <h2>Before you apply</h2>
            <h3>Who may use this application?</h3>

            <p>This application form is designed for a Victim of violent crime. Under the Crime Victim Assistance Act, a Victim is a person who is injured physically or psychologically as a result of certain crimes committed in British Columbia.</p>
            <p>If this definition does not apply to you, please see the application forms for  Witnesses or Immediate Family Members.</p>
            <p>If the victim is deceased, please see the application for Immediate Family Members.</p>

            <h3>What types of benefits does the Crime Victim's Assistance Program provide?</h3>

            <p>Benefits that may be available to Victims of violent crime include:</p>
            <ul>
              <li>medical and dental expenses</li>
              <li>prescription drug expenses</li>
              <li>counselling</li>
              <li>lost employment income (reimbursed at minimum wage)</li>
              <li>repair or replacement costs of damaged or destroyed property that a person was wearing at the time of the crime (e.g., eyeglasses, clothing)</li>
              <li>protective measures (e.g., moving expenses)</li>
              <li>disability benefits, services or equipment</li>
            </ul>

            <h3>The Crime Victim Assistance Program will NOT cover:</h3>
            <ul>
              <li>injuries or loss sustained from motor vehicle accidents</li>
              <li>injuries or loss sustained at work, and which are covered by WorkSafeBC</li>
              <li>claims for pain and suffering</li>
              <li>lost or stolen property</li>
              <li>injuries sustained from an offence occurring outside of B.C. or prior to July 1, 1972</li>
            </ul>

            <p>Note: The Crime Victim Assistance Program will only provide benefits that are not covered by other programs (e.g., EI, ICBC, extended health coverage, personal insurance).</p>
            <p><a href="#">View full summary of benefits</a></p>

            <hr />

            <h2>Instructions</h2>

            <h3>Filling out the application</h3>
            <p>The application form is also available in PDF format at www.gov.bc.ca/crimevictimassistance. To download the appropriate viewer, visit http://get.adobe.com/reader.</p>
            <p>Print versions of the application form are also available from the Crime Victim Assistance Program or a local victim service program.</p>
            <p>A local victim service program can help you complete this application. To locate a program near you, call VictimLink BC toll-free at 1-800-563-0808.</p>

            <h3>Be complete and accurate</h3>
            <p>Please ensure that all form fields that you fill in are done so accurately. Any information that is inaccurate will affect the processing of your claim.</p>

            <h3>What you need to have:</h3>
            <p>In order to complete this form efficiently please make sure you have the following on hand:</p>
            <ul>
              <li>All information pertaining to the incident</li>
              <li>Your own health information (PHN)</li>
              <li>Police Officers contact</li>
              <li>Employment information (if requesting benefits for lost employment income)</li>
              <li>Info about the deceased (if it was a fatality)</li>
              <li>What benefits you are claiming (View Summary of Benefits)</li>
              <li>Victim Service Worker's information (if available)</li>
              <li>Court File Number (if known)</li>
              <li>Date of crime</li>
              <li>Date reported to police</li>
              <li>Date of hospital visit</li>
              <li>Date of any health care professional (ie., doctor, psychiatrist) visit</li>
            </ul>

            <h3>Time needed to complete this application</h3>
            <p>This application will take approximately 45 minutes to complete. You will not be able to save and come back to your application, so please be sure that you have enough time to finish it in one session.</p>

            <hr />

            <p>If your address or telephone number changes after submitting this application, please inform the Crime Victim Assistance Program by calling 1-866-660-3888.</p>
            <p>For additional questions, please contact the Crime Victim Assistance Program at 604-660-3888 or toll free in B.C. at 1-866-660-3888.</p>
            <p>For more information, see the Government of British Columbia website at www.gov.bc.ca/crimevictimassistance or query &ldquo;cvap bc&rdquo; using your internet search engine.</p>

            <section>
              <input type="checkbox" style="margin-right: 10px;" formControlName="understoodInformation" [value]="true">
              <span>I have read and understood all the above information. *</span>
            </section>
          </div>

          <div formGroupName="personalInformation" *ngIf="this.currentFormStep == 1">
            <h1>Personal Information & Addresses</h1>
            <h2 class="blue-header">Personal Information</h2>

            <h3>Applicant Name</h3>

            <app-field label="First Name" [required]="true" [valid]="form.get('personalInformation.firstName').valid || !form.get('personalInformation.firstName').touched" errorMessage="Please enter your first name">
              <input class="form-control" style="width: 350px;" type="text" formControlName="firstName">
            </app-field>

            <app-field label="Middle Name" [required]="false" [valid]="form.get('personalInformation.middleName').valid || !form.get('personalInformation.middleName').touched" errorMessage="Please enter your middle name">
              <input class="form-control" style="width: 350px;" type="text" formControlName="middleName">
            </app-field>

            <app-field label="Last Name" [required]="true" [valid]="form.get('personalInformation.lastName').valid || !form.get('personalInformation.lastName').touched" errorMessage="Please enter your last name">
              <input class="form-control" style="width: 350px;" type="text" formControlName="lastName">
            </app-field>

            <input type="checkbox" style="margin-right: 10px;" formControlName="iHaveOtherNames" [value]="true">
            <span>I also go by other names (e.g. nickname, maiden name, alias)</span>

            <div *ngIf="form.get('personalInformation.iHaveOtherNames').value === true">
              <h3>Other Names Used</h3>

              <app-field label="Other First Name" [required]="false" errorMessage="Please enter your other first name">
                <input class="form-control" style="width: 350px;" type="text" formControlName="otherFirstName">
              </app-field>

              <app-field label="Other Last Name" [required]="false" errorMessage="Please enter your other last name">
                <input class="form-control" style="width: 350px;" type="text" formControlName="otherLastName">
              </app-field>

              <app-field label="Date of Name Change">
                <input type="text" class="form-control" formControlName="dateOfNameChange" placeholder="yyyy-mm-dd"
                       [matDatepicker]="dateOfNameChangePicker" (focus)="dateOfNameChangePicker.open()" (click)="dateOfNameChangePicker.open()" readonly style="width: 200px; background-color: #fff;">
                <mat-datepicker #dateOfNameChangePicker></mat-datepicker>
              </app-field>
            </div>

            <h3>Other Details</h3>
            <app-field label="Primary Phone Number (inc. area code)" [required]="true" [valid]="form.get('personalInformation.phoneNumber').valid || !form.get('personalInformation.phoneNumber').touched" errorMessage="Please enter your 10-digit phone number">
              <input class="form-control" style="width: 250px;" maxlength="10" (keydown)="rejectIfNotDigitOrBackSpace($event)" type="text" formControlName="phoneNumber">
            </app-field>

            <app-field label="Email Address" [required]="true" [valid]="form.get('personalInformation.email').valid || !form.get('personalInformation.email').touched" errorMessage="Please enter your email address">
              <input class="form-control" style="width: 350px;" type="text" (blur)="trimValue(form.get('personalInformation.email'))" formControlName="email">
            </app-field>

            <app-field label="Birthdate" [required]="true" [valid]="form.get('personalInformation.birthDate').valid || !form.get('personalInformation.birthDate').touched" errorMessage="Please enter your birth date">
              <input type="text" class="form-control" formControlName="birthDate" placeholder="yyyy-mm-dd"
                     [matDatepicker]="birthDatePicker" (focus)="birthDatePicker.open()" (click)="birthDatePicker.open()" readonly style="width: 200px; background-color: #fff;">
              <mat-datepicker #birthDatePicker></mat-datepicker>

            </app-field>

            <app-field label="Social Insurance Number (SIN)" [required]="false" [valid]="form.get('personalInformation.sinPart1').valid || !form.get('personalInformation.sinPart1').touched" errorMessage="Please enter your SIN">
              <input class="form-control" style="width: 50px;" maxlength="3" (keydown)="rejectIfNotDigitOrBackSpace($event)" type="text" formControlName="sinPart1">
              <span> - </span>
              <input class="form-control" style="width: 50px;" maxlength="3" (keydown)="rejectIfNotDigitOrBackSpace($event)" type="text" formControlName="sinPart2">
              <span> - </span>
              <input class="form-control" style="width: 50px;" maxlength="3" (keydown)="rejectIfNotDigitOrBackSpace($event)" type="text" formControlName="sinPart3">
              <span>[info icon]</span>
            </app-field>

            <app-field label="Gender" [required]="false" errorMessage="Please select your gender from the dropdown list">
              <select class="form-control" style="width: 250px;" formControlName="gender">
                <option value="">Select...</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
            </app-field>

            <app-field label="Marital Status" [required]="false" errorMessage="Please select your marital status from the dropdown list">
              <select class="form-control" style="width: 250px;" formControlName="maritalStatus">
                <option value="">Select...</option>
                <option value="Married">Married</option>
                <option value="CommonLaw">Common Law</option>
                <option value="Widowed">Widowed</option>
                <option value="Divorced">Divorced</option>
                <option value="Seperated">Seperated</option>
                <option value="Single">Single</option>
              </select>
            </app-field>

            <app-field label="Occupation" [required]="false" [valid]="form.get('personalInformation.occupation').valid || !form.get('personalInformation.occupation').touched" errorMessage="Please enter your occupation">
              <input class="form-control" style="width: 350px;" type="text" formControlName="occupation">
            </app-field>

            <h2 class="blue-header">Addresses</h2>

            <h3>Primary Address</h3>
            <app-field label="Country">
              <select class="form-control" style="width: 350px;" formControlName="primaryAddressCountry" (change)="updatePrimaryLocation($event)">
                <option value="">Choose a country</option>
                <option *ngFor="let item of countryList" [value]="item.name">
                  {{ item.name }}
                </option>
              </select>
            </app-field>
            <app-field label="{{ primaryProvinceType }}">
              <select class="form-control" style="width: 350px;" formControlName="primaryAddressProvince">
                <option value="">Choose a {{ primaryProvinceType }}</option>
                <option *ngFor="let item of primaryProvinceList" [value]="item">
                  {{item}}
                </option>
              </select>
            </app-field>
            <app-field label="City" [required]="false" [valid]="form.get('personalInformation.primaryAddressCity').valid || !form.get('personalInformation.primaryAddressCity').touched" errorMessage="Please enter your primary city">
              <input class="form-control" style="width: 350px;" type="text" formControlName="primaryAddressCity">
            </app-field>
            <app-field label="Mailing Address (Apt. No., Street Number, Street Address, PO Box)" [required]="false" [valid]="form.get('personalInformation.primaryAddressLine1').valid || !form.get('personalInformation.primaryAddressLine1').touched" errorMessage="Please enter your primary mailing address">
              <input class="form-control" style="width: 400px;" type="text" formControlName="primaryAddressLine1">
            </app-field>
            <app-field label="{{ primaryPostalCodeType }}" [required]="false" [valid]="form.get('personalInformation.primaryAddressPostalCode').valid || !form.get('personalInformation.primaryAddressPostalCode').touched" errorMessage="Please enter your primary postal code">
              <input class="form-control" style="width: 200px;" type="text" placeholder="{{ primaryPostalCodeSample }}" formControlName="primaryAddressPostalCode">
            </app-field>

            <h3>Alternate Address <span>(e.g. the address of a family member) in case mail sent to the above address is returned to us.</span></h3>
            <app-field label="Country">
              <select class="form-control" style="width: 350px;" formControlName="alternateAddressCountry" (change)="updateAlternateLocation($event)">
                <option value="">Choose a country</option>
                <option *ngFor="let item of countryList" [value]="item.name">
                  {{ item.name }}
                </option>
              </select>
            </app-field>
            <app-field label="{{ alternateProvinceType }}">
              <select class="form-control" style="width: 350px;" formControlName="alternateAddressProvince">
                <option value="">Choose a {{ alternateProvinceType }}</option>
                <option *ngFor="let item of alternateProvinceList" [value]="item">
                  {{item}}
                </option>
              </select>
            </app-field>
            <app-field label="City" [required]="false" [valid]="form.get('personalInformation.alternateAddressCity').valid || !form.get('personalInformation.alternateAddressCity').touched" errorMessage="Please enter your alternate city">
              <input class="form-control" style="width: 350px;" type="text" formControlName="alternateAddressCity">
            </app-field>
            <app-field label="Mailing Address (Apt. No., Street Number, Street Address, PO Box)" [required]="false" [valid]="form.get('personalInformation.alternateAddressLine1').valid || !form.get('personalInformation.alternateAddressLine1').touched" errorMessage="Please enter your alternate mailing address">
              <input class="form-control" style="width: 400px;" type="text" formControlName="alternateAddressLine1">
            </app-field>
            <app-field label="{{ alternatePostalCodeType }}" [required]="false" [valid]="form.get('personalInformation.alternateAddressPostalCode').valid || !form.get('personalInformation.alternateAddressPostalCode').touched" errorMessage="Please enter your alternate postal code">
              <input class="form-control" style="width: 200px;" type="text" placeholder="{{ alternatePostalCodeSample }}" formControlName="alternateAddressPostalCode">
            </app-field>
          </div>

          <div formGroupName="crimeInformation" class="hide-me" *ngIf="this.currentFormStep == 2">
            <h1>Crime Information</h1>
            <section>
              <h2 class="blue-header">Crime Occurence</h2>

              <h3>Crime Type</h3>

              <app-field label="Type of crime (e.g. home invastion, assault)" [required]="true" [valid]="form.get('crimeInformation.typeOfCrime').valid || !form.get('crimeInformation.typeOfCrime').touched" errorMessage="Please enter the type of crime" matTooltip="Info about the action" [matTooltipPosition]="after" aria-label="Button that displays a tooltip in various positions">
                <input class="form-control" style="width: 350px;" type="text" formControlName="typeOfCrime">
              </app-field>

              <h3>Crime Date(s)</h3>

              <app-field label="When did this crime occur?" errorMessage="Please make a selection" [showChevrons]="false">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="whenDidCrimeOccur" formControlName="whenDidCrimeOccur">
                  <span>On a single day</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="whenDidCrimeOccur" formControlName="whenDidCrimeOccur">
                  <span>Over a period of time</span>
                </label>
              </app-field>

              <section *ngIf="form.get('crimeInformation.whenDidCrimeOccur').value === true">
                <app-field label="Date of crime" [required]="true" [valid]="form.get('crimeInformation.crimeSingleDate').valid || !form.get('crimeInformation.crimeSingleDate').touched" errorMessage="Please enter the crime date">
                  <input type="text" class="form-control" formControlName="crimeSingleDate" placeholder="yyyy-mm-dd"
                         [matDatepicker]="crimeSingleDatePicker" (focus)="crimeSingleDatePicker.open()" (click)="crimeSingleDatePicker.open()" readonly style="width: 200px; background-color: #fff;">
                  <mat-datepicker #crimeSingleDatePicker></mat-datepicker>
                </app-field>
              </section>

              <section *ngIf="form.get('crimeInformation.whenDidCrimeOccur').value === false">
                <app-field label="Approximate dates of crime" [required]="true" [valid]="form.get('crimeInformation.crimePeriodStart').valid || !form.get('crimeInformation.crimePeriodStart').touched" errorMessage="Please enter the crime date">
                  <input type="text" class="form-control" formControlName="crimePeriodStart" placeholder="yyyy-mm-dd"
                         [matDatepicker]="crimePeriodStartPicker" (focus)="crimePeriodStartPicker.open()" (click)="crimePeriodStartPicker.open()" readonly style="width: 200px; background-color: #fff;">
                  <mat-datepicker #crimePeriodStartPicker></mat-datepicker>
                  <span> - </span>
                  <input type="text" class="form-control" formControlName="crimePeriodEnd" placeholder="yyyy-mm-dd"
                         [matDatepicker]="crimePeriodEndDatePicker" (focus)="crimePeriodEndDatePicker.open()" (click)="crimePeriodEndDatePicker.open()" readonly style="width: 200px; background-color: #fff;">
                  <mat-datepicker #crimePeriodEndDatePicker></mat-datepicker>
                </app-field>
              </section>

              <app-field label="Is this application being filed within one year of the date of the crime?" errorMessage="Please make a selection" [showChevrons]="false">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="applicationFiledWithinOneYearFromCrime" formControlName="applicationFiledWithinOneYearFromCrime">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="applicationFiledWithinOneYearFromCrime" formControlName="applicationFiledWithinOneYearFromCrime">
                  <span>No</span>
                </label>
              </app-field>

              <section *ngIf="form.get('crimeInformation.applicationFiledWithinOneYearFromCrime').value === false">
                <app-field label="Please briefly explain why you did not apply sooner [infoicon]">
                  <textarea class="form-control standard" formControlName="whyDidYouNotApplySooner"></textarea>
                </app-field>
              </section>

              <section>
                <h3>Crime Location(s)</h3>
                <app-field label="Please provide the city/town in BC where the crime took place. If the crime occured over a period of time in more than one location, please provide the names of all locations">
                  <textarea class="form-control standard" formControlName="crimeLocations"></textarea>
                </app-field>
              </section>

              <section>
                <h3>Crime Details</h3>
                <app-field label="Please briefly describe how the incident occured, in your own words.">
                  <textarea class="form-control bigger" formControlName="crimeDetails"></textarea>
                </app-field>

                <app-field label="Please specify any injuries, physical or psychological, you sustained as a result of the crime (e.g. bruised leg, broken wrist, sleeplessness)">
                  <textarea class="form-control standard" formControlName="crimeInjuries"></textarea>
                </app-field>

                <app-field label="If you have any additional information, please upload it below">
                  <div class="file-upload-placeholder">
                    [upload functionality goes here]
                  </div>
                </app-field>
              </section>
            </section>

            <section>
              <h2 class="blue-header">Police Involvement</h2>

              <app-field label="Was a report made to the police?" errorMessage="Please make a selection" [showChevrons]="false">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="wasReportMadeToPolice" formControlName="wasReportMadeToPolice">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="wasReportMadeToPolice" formControlName="wasReportMadeToPolice">
                  <span>No</span>
                </label>
              </app-field>

              <section *ngIf="form.get('crimeInformation.wasReportMadeToPolice').value === true">
                <app-field label="To which police force was the report made?">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="policeReportedWhichPoliceForce">
                </app-field>

                <app-field label="Date of crime">
                  <input type="text" class="form-control" formControlName="policeReportedDate" placeholder="yyyy-mm-dd"
                         [matDatepicker]="policeReportedDateDatePicker" (focus)="policeReportedDateDatePicker.open()" (click)="policeReportedDateDatePicker.open()" readonly style="width: 200px; background-color: #fff;">
                  <mat-datepicker #policeReportedDateDatePicker></mat-datepicker>
                </app-field>

                <app-field label="Police File Number [tooltip icon]">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="policeReportedPoliceFileNumber">
                </app-field>

                <app-field label="Name of investigating officer (if known)">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="policeReportedInvestigatingOfficer">
                </app-field>
              </section>

              <section *ngIf="form.get('crimeInformation.wasReportMadeToPolice').value === false">
                <app-field label="Please identify who the report was made to (e.g. doctor, social worker, counsellor, other)">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="noPoliceReportIndentification">
                </app-field>
              </section>

            </section>

            <section>
              <h2 class="blue-header">Offender & Court Information</h2>
              <h3>Offender Information <span>(if known)</span></h3>

              <app-field label="First Name">
                <input class="form-control" style="width: 350px;" type="text" formControlName="offenderFirstName">
              </app-field>

              <app-field label="Middle Name">
                <input class="form-control" style="width: 350px;" type="text" formControlName="offenderMiddleName">
              </app-field>

              <app-field label="Last Name">
                <input class="form-control" style="width: 350px;" type="text" formControlName="offenderLastName">
              </app-field>

              <app-field label="Relationship to the offender (if any)">
                <input class="form-control" style="width: 350px;" type="text" formControlName="offenderRelationship">
              </app-field>

              <app-field label="Has the alleged offender been charged?">
                <label class="inline-label">
                  <input type="radio" [value]="1" name="offenderBeenCharged" formControlName="offenderBeenCharged">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="2" name="offenderBeenCharged" formControlName="offenderBeenCharged">
                  <span>No</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="3" name="offenderBeenCharged" formControlName="offenderBeenCharged">
                  <span>Unknown</span>
                </label>
              </app-field>

              <h3>Court Information</h3>
              <app-field label="Court File Number (if known) [tooltip icon]">
                <input class="form-control" style="width: 350px;" type="text" formControlName="courtFileNumber">
              </app-field>

              <app-field label="Court Location">
                <input class="form-control" style="width: 350px;" type="text" formControlName="courtLocation">
              </app-field>

              <app-field label="Have you sued the alleged offender(s)?">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="haveYouSuedOffender" formControlName="haveYouSuedOffender">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="haveYouSuedOffender" formControlName="haveYouSuedOffender">
                  <span>No</span>
                </label>
              </app-field>

              <section *ngIf="form.get('crimeInformation.haveYouSuedOffender').value === true">
                <app-field label="Court File Number">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="suedCourtFileNumber">
                </app-field>

                <app-field label="Court Location">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="suedCourtLocation">
                </app-field>
              </section>

              <section *ngIf="form.get('crimeInformation.haveYouSuedOffender').value === false">
                <app-field label="Do you intend to sue the alleged offender?">
                  <label class="inline-label">
                    <input type="radio" [value]="1" name="intendToSueOffender" formControlName="intendToSueOffender">
                    <span>Yes</span>
                  </label>
                  <label class="inline-label">
                    <input type="radio" [value]="2" name="intendToSueOffender" formControlName="intendToSueOffender">
                    <span>No</span>
                  </label>
                  <label class="inline-label">
                    <input type="radio" [value]="3" name="intendToSueOffender" formControlName="intendToSueOffender">
                    <span>Undecided</span>
                  </label>
                </app-field>
              </section>
            </section>
          </div>

          <div formGroupName="medicalInformation" class="hide-me" *ngIf="this.currentFormStep == 3">
            <h1>Medical & Dental Information</h1>
            <p>This section provides information regarding any medical or dental treatment you recieved as a result of the crime.</p>
            <section>
              <h2 class="blue-header">Coverage</h2>
              <h3>Medical Services Coverage [tooltip icon]</h3>

              <app-field label="Do you have medical services coverage? (e.g. a BC Services Card or BC Care Card)">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="doYouHaveMedicalServicesCoverage" formControlName="doYouHaveMedicalServicesCoverage">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="doYouHaveMedicalServicesCoverage" formControlName="doYouHaveMedicalServicesCoverage">
                  <span>No</span>
                </label>
              </app-field>

              <section *ngIf="form.get('medicalInformation.doYouHaveMedicalServicesCoverage').value === true">
                <app-field label="Personal Health Number">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="personalHealthNumber">
                </app-field>
              </section>

              <h3>Other Health Coverage</h3>
              <app-field label="Do you have other health coverage? (e.g. Blue Cross)">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="doYouHaveOtherHealthCoverage" formControlName="doYouHaveOtherHealthCoverage">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="doYouHaveOtherHealthCoverage" formControlName="doYouHaveOtherHealthCoverage">
                  <span>No</span>
                </label>
              </app-field>

              <section *ngIf="form.get('medicalInformation.doYouHaveOtherHealthCoverage').value === true">
                <app-field label="Name of provider">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="otherHealthCoverageProviderName">
                </app-field>
                <app-field label="Extended Health Plan Number">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="otherHealthCoverageExtendedPlanNumber">
                </app-field>
              </section>


              <h2 class="blue-header">Treatment</h2>
              <h3>Hospital Information</h3>

              <app-field label="Did you go to a hospital to be treated for injuries resulting from the incident?">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="weYouTreatedAtHospital" formControlName="weYouTreatedAtHospital">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="weYouTreatedAtHospital" formControlName="weYouTreatedAtHospital">
                  <span>No</span>
                </label>
              </app-field>

              <section *ngIf="form.get('medicalInformation.weYouTreatedAtHospital').value === true">
                <app-field label="Name of hospital">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="treatedAtHospitalName">
                </app-field>
                <app-field label="Date of treatment">
                  <input type="text" class="form-control" formControlName="treatedAtHospitalDate" placeholder="yyyy-mm-dd"
                         [matDatepicker]="treatedAtHospitalDatePicker" (focus)="treatedAtHospitalDatePicker.open()" (click)="treatedAtHospitalDatePicker.open()" readonly style="width: 200px; background-color: #fff;">
                  <mat-datepicker #treatedAtHospitalDatePicker></mat-datepicker>
                </app-field>
              </section>

              <h3>Other Treatment Information</h3>
              <p>
                Please add information about any other providers (doctors, specialists, or counsellors) who have been treating you for injuries resulting from the incident
              </p>
              <div class="other-treatments" formArrayName="otherTreatments" *ngFor="let item of form.get('medicalInformation.otherTreatments').controls; let i = index;">
                <div [formGroupName]="i" class="other-treatment">
                  <a href="javascript:void(0);" (click)="removeProvider(i)" style="float: right">
                    <i class="fas fa-trash-alt"></i> Delete Provider
                  </a>
                  <app-field label="Type of provider">
                    <label class="inline-label">
                      <input type="radio" [value]="1" name="providerType" formControlName="providerType">
                      <span>Specialist</span>
                    </label>
                    <br />
                    <label class="inline-label">
                      <input type="radio" [value]="2" name="providerType" formControlName="providerType">
                      <span>Counsellor / Psychologist</span>
                    </label>
                    <br />
                    <label class="inline-label">
                      <input type="radio" [value]="3" name="providerType" formControlName="providerType">
                      <span>Dentist</span>
                    </label>
                    <br />
                    <label class="inline-label">
                      <input type="radio" [value]="4" name="providerType" formControlName="providerType">
                      <span>Other</span>
                    </label>
                  </app-field>
                  <app-field label="Provider name">
                    <input type="text" formControlName="providerName">
                  </app-field>
                  <app-field label="Phone number (incl. area code)">
                    <input type="text" formControlName="providerPhoneNumber">
                  </app-field>
                  <app-field label="Address (Apt. No., Street Number, Street Address, PO Box)">
                    <input type="text" formControlName="providerAddress">
                  </app-field>
                </div>
              </div>
              <a href="javascript:void(0);" class="btn btn-secondary" (click)="addProvider()">Add a Provider</a>
            </section>
          </div>

          <div formGroupName="expenseInformation" class="hide-me" *ngIf="this.currentFormStep == 4">
            <h1>Expense & Loss Information</h1>
            <p>This section provides information regarding any expenses or losses you are claiming as a result of the crime. Please keep reciepts for all expenses you are claiming. The program will require you to submit <strong>original reciepts</strong>.</p>
            <section>
              <h2 class="blue-header">Benefits Available Through CVAP</h2>
              <p>
                For a complete list of benefits available through CVAP, please view the <a [attr.href]="summaryOfBenefitsUrl" target="_blank">Summary of Benefits</a>.<br />
                <strong>Original reciepts</strong> are required for expenses not covered by your extended health or other insurance plan
              </p>
              <p>Please check all that apply:</p>
              <div class="radio-list">
                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveMedicalExpenses" formControlName="haveMedicalExpenses">
                    Medical Expenses
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveDentalExpenses" formControlName="haveDentalExpenses">
                    Dental Expenses
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="havePrescriptionDrugExpenses" formControlName="havePrescriptionDrugExpenses">
                    Prescription drug expenses
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveCounsellingExpenses" formControlName="haveCounsellingExpenses">
                    Counselling
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveLostEmploymentIncomeExpenses" formControlName="haveLostEmploymentIncomeExpenses">
                    Lost employment income (reimbursed at minimum wage)
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="havePersonalPropertyLostExpenses" formControlName="havePersonalPropertyLostExpenses">
                    Repair or replacement costs of damaged or destroyed personal property that you were wearing at the time of the incident (e.g. eyeglasses, clothing)
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveProtectiveMeasureExpenses" formControlName="haveProtectiveMeasureExpenses">
                    Protective measures (e.g. moving expenses, security devices)
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveDisabilityExpenses" formControlName="haveDisabilityExpenses">
                    Disability benefits, services or equipment
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveCrimeSceneCleaningExpenses" formControlName="haveCrimeSceneCleaningExpenses">
                    Crime scene cleaning
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveOtherExpenses" formControlName="haveOtherExpenses">
                    Other
                  </label>

                  <section *ngIf="form.get('expenseInformation.haveOtherExpenses').value === true">
                    <app-field label="Please specify">
                      <input class="form-control" style="width: 350px;" type="text" formControlName="otherSpecificExpenses">
                    </app-field>
                  </section>
                </app-field>
              </div>
            </section>

            <section>
              <h2 class="blue-header">Other Benefits</h2>
              <p>If you have recieved or will recieve other benefits as a result of the crime, check all that apply:</p>
              <div class="radio-list">
                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveDisabilityPlanBenefits" formControlName="haveDisabilityPlanBenefits">
                    Disability Plan benefits
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveEmploymentInsuranceBenefits" formControlName="haveEmploymentInsuranceBenefits">
                    Employment Insurance benefits
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveIncomeAssistance" formControlName="haveIncomeAssistanceBenefits">
                    Income Assistance
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveCanadaPensionPlanBenefits" formControlName="haveCanadaPensionPlanBenefits">
                    Canada Pension Plan
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveAboriginalAffairsAndNorthernDevelopmentCanadaBenefits" formControlName="haveAboriginalAffairsAndNorthernDevelopmentCanadaBenefits">
                    Aboriginal Affairs and Northern Development Canada
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveCivilActionBenefits" formControlName="haveCivilActionBenefits">
                    Benefits you have recieved as a result of civil action
                  </label>
                </app-field>

                <app-field>
                  <label>
                    <input type="checkbox" [value]="true" name="haveOtherBenefits" formControlName="haveOtherBenefits">
                    Other
                  </label>

                  <section *ngIf="form.get('expenseInformation.haveOtherBenefits').value === true">
                    <app-field label="Please specify">
                      <input class="form-control" style="width: 350px;" type="text" formControlName="otherSpecificBenefits">
                    </app-field>
                  </section>
                </app-field>
              </div>
            </section>
          </div>

          <div formGroupName="employmentIncomeInformation" class="hide-me" *ngIf="this.currentFormStep == 5">
            <h1 (click)="checkform()">Employment Income</h1>
            <section *ngIf="form.get('expenseInformation.haveLostEmploymentIncomeExpenses') == undefined || form.get('expenseInformation.haveLostEmploymentIncomeExpenses').value === false">
              <p>This section provides information regarding employment information.  This information is only necessary if you are requesting benefits for lost employment income.</p>
              <p><strong>You have not requested lost employment income benefits.</strong> Go back to Expense & Loss Information to request this particular benefit, or continue to the next section.</p>
            </section>
            <section *ngIf="form.get('expenseInformation.haveLostEmploymentIncomeExpenses').value === true">
              <p>This section provides information regarding employment information.  This information is necessary if you are requesting benefits for lost employment income.</p>

              <section>
                <h2 class="blue-header">Income Loss Information</h2>

                <app-field label="Were you employed when the crime occured?">
                  <label class="inline-label">
                    <input type="radio" [value]="1" name="wereYouEmployedAtTimeOfCrime" formControlName="wereYouEmployedAtTimeOfCrime">
                    <span>Yes</span>
                  </label>

                  <label class="inline-label">
                    <input type="radio" [value]="2" name="wereYouEmployedAtTimeOfCrime" formControlName="wereYouEmployedAtTimeOfCrime">
                    <span>No</span>
                  </label>
                  <label class="inline-label">
                    <input type="radio" [value]="3" name="wereYouEmployedAtTimeOfCrime" formControlName="wereYouEmployedAtTimeOfCrime">
                    <span>Self-employed</span>
                  </label>
                </app-field>

                <section *ngIf="form.get('employmentIncomeInformation.wereYouEmployedAtTimeOfCrime').value === 1 || form.get('employmentIncomeInformation.wereYouEmployedAtTimeOfCrime').value === 3">
                  <app-field label="Were you at work at the time of the incident?">
                    <label class="inline-label">
                      <input type="radio" [value]="true" name="wereYouAtWorkAtTimeOfIncident" formControlName="wereYouAtWorkAtTimeOfIncident">
                      <span>Yes</span>
                    </label>
                    <label class="inline-label">
                      <input type="radio" [value]="false" name="wereYouAtWorkAtTimeOfIncident" formControlName="wereYouAtWorkAtTimeOfIncident">
                      <span>No</span>
                    </label>
                  </app-field>
                </section>

                <section *ngIf="form.get('employmentIncomeInformation.wereYouAtWorkAtTimeOfIncident').value === true">
                  <app-field label="Have you applied for Worker's Compensation Benefits?">
                    <label class="inline-label">
                      <input type="radio" [value]="true" name="haveYouAppliedForWorkersCompensation" formControlName="haveYouAppliedForWorkersCompensation">
                      <span>Yes</span>
                    </label>
                    <label class="inline-label">
                      <input type="radio" [value]="false" name="haveYouAppliedForWorkersCompensation" formControlName="haveYouAppliedForWorkersCompensation">
                      <span>No</span>
                    </label>
                  </app-field>

                  <section *ngIf="form.get('employmentIncomeInformation.haveYouAppliedForWorkersCompensation').value === true">
                    <app-field label="Worker's Compensation Benefits claim number">
                      <input class="form-control" style="width: 350px;" type="text" formControlName="workersCompensationClaimNumber">
                    </app-field>
                  </section>
                </section>

                <app-field label="As a result of any crime-related injuries, did you miss work?">
                  <label class="inline-label">
                    <input type="radio" [value]="true" name="didYouMissWorkDueToCrime" formControlName="didYouMissWorkDueToCrime">
                    <span>Yes</span>
                  </label>
                  <label class="inline-label">
                    <input type="radio" [value]="false" name="didYouMissWorkDueToCrime" formControlName="didYouMissWorkDueToCrime">
                    <span>No</span>
                  </label>
                </app-field>

                <section *ngIf="form.get('employmentIncomeInformation.didYouMissWorkDueToCrime').value === true">
                  <app-field label="Please provide days of work missed">
                    <!--[valid]="form.get('crimeInformation.crimePeriodStart').valid || !form.get('crimeInformation.crimePeriodStart').touched"-->
                    <input type="text" class="form-control" formControlName="daysWorkMissedStart" placeholder="yyyy-mm-dd"
                           [matDatepicker]="daysWorkMissedStartPicker" (focus)="daysWorkMissedStartPicker.open()" (click)="daysWorkMissedStartPicker.open()" readonly style="width: 200px; background-color: #fff;">
                    <mat-datepicker #daysWorkMissedStartPicker></mat-datepicker>
                    <span> - </span>
                    <input type="text" class="form-control" formControlName="daysWorkMissedEnd" placeholder="yyyy-mm-dd"
                           [matDatepicker]="daysWorkMissedEndPicker" (focus)="daysWorkMissedEndPicker.open()" (click)="daysWorkMissedEndPicker.open()" readonly style="width: 200px; background-color: #fff;">
                    <mat-datepicker #daysWorkMissedEndPicker></mat-datepicker>
                  </app-field>

                  <app-field label="Did you lose wages? [tooltip icon]">
                    <label class="inline-label">
                      <input type="radio" [value]="true" name="didYouLoseWages" formControlName="didYouLoseWages">
                      <span>Yes</span>
                    </label>
                    <label class="inline-label">
                      <input type="radio" [value]="false" name="didYouLoseWages" formControlName="didYouLoseWages">
                      <span>No</span>
                    </label>
                  </app-field>
                </section>
              </section>

              <section>
                <h2 class="blue-header">Employer Information</h2>

                <app-field label="Name of Company / Organization">
                  <input type="text" formControlName="employerName">
                </app-field>
                <app-field label="Phone number (incl. area code)">
                  <input type="text" formControlName="employerPhoneNumber">
                </app-field>
                <app-field label="Address (Apt. No., Street Number, Street Address, PO Box)">
                  <input type="text" formControlName="employerAddress">
                </app-field>
                <app-field label="May we contact your employer?">
                  <label class="inline-label">
                    <input type="radio" [value]="true" name="mayContactEmployer" formControlName="mayContactEmployer">
                    <span>Yes</span>
                  </label>
                  <label class="inline-label">
                    <input type="radio" [value]="false" name="mayContactEmployer" formControlName="mayContactEmployer">
                    <span>No</span>
                  </label>
                </app-field>
              </section>
            </section>
          </div>

          <div formGroupName="representativeInformation" class="hide-me" *ngIf="this.currentFormStep == 6">
            <h1>Application on Behalf on Victim</h1>

            <section class="radio-list">
              <app-field label="I am:">
                <label>
                  <input type="radio" [value]="1" name="completingOnBehalfOf" formControlName="completingOnBehalfOf">
                  Completing this application for myself
                </label>
                <br />
                <label>
                  <input type="radio" [value]="2" name="completingOnBehalfOf" formControlName="completingOnBehalfOf">
                  A Victim Service Worker or other person helping a victim complete this application
                </label>
                <br />

                <label>
                  <input type="radio" [value]="3" name="completingOnBehalfOf" formControlName="completingOnBehalfOf">
                  A parent, legal guardian, or legal representative completing and signing this application form on behalf of the victim
                </label>
              </app-field>
            </section>

            <section *ngIf="form.get('representativeInformation.completingOnBehalfOf').value === 3">
              <h3>Name</h3>

              <app-field label="First Name" [required]="true" [valid]="form.get('representativeInformation.representativeFirstName').valid || !form.get('representativeInformation.representativeFirstName').touched" errorMessage="Please enter a first name">
                <input class="form-control" style="width: 350px;" type="text" formControlName="representativeFirstName">
              </app-field>

              <app-field label="Middle Name" [required]="false">
                <input class="form-control" style="width: 350px;" type="text" formControlName="representativeMiddleName">
              </app-field>

              <app-field label="Last Name" [required]="true" [valid]="form.get('representativeInformation.representativeLastName').valid || !form.get('representativeInformation.representativeLastName').touched" errorMessage="Please enter a last name">
                <input class="form-control" style="width: 350px;" type="text" formControlName="representativeLastName">
              </app-field>

              <h3>Address & Contact Information</h3>

              <app-field label="Country">
                <select class="form-control" style="width: 350px;" formControlName="representativeAddressCountry" (change)="updateRepresentativeLocation($event)">
                  <option value="">Choose a country</option>
                  <option *ngFor="let item of countryList" [value]="item.name">
                    {{ item.name }}
                  </option>
                </select>
              </app-field>

              <app-field label="{{ representativeProvinceType }}">
                <select class="form-control" style="width: 350px;" formControlName="representativeAddressProvince">
                  <option value="">Choose a {{ representativeProvinceType }}</option>
                  <option *ngFor="let item of representativeProvinceList" [value]="item">
                    {{item}}
                  </option>
                </select>
              </app-field>

              <app-field label="City">
                <input class="form-control" style="width: 350px;" type="text" formControlName="representativeAddressCity">
              </app-field>

              <app-field label="Mailing Address (Apt. No., Street Number, Street Address, PO Box)">
                <input class="form-control" style="width: 400px;" type="text" formControlName="representativeAddressLine1">
              </app-field>

              <app-field label="{{ representativePostalCodeType }}">
                <input class="form-control" style="width: 200px;" type="text" placeholder="{{ representativePostalCodeSample }}" formControlName="representativeAddressPostalCode">
              </app-field>

              <app-field label="Phone Number (incl. area code)" [required]="true" [valid]="form.get('representativeInformation.representativePhoneNumbr').valid || !form.get('representativeInformation.representativePhoneNumbr').touched" errorMessage="Please enter a phone number">
                <input class="form-control" style="width: 350px;" type="text" formControlName="representativePhoneNumbr">
              </app-field>

              <app-field label="Email Address" [required]="true" [valid]="form.get('representativeInformation.representativeEmail').valid || !form.get('representativeInformation.representativeEmail').touched" errorMessage="Please enter an email address">
                <input class="form-control" style="width: 350px;" type="text" formControlName="representativeEmail" placeholder="myname@email.com">
              </app-field>

              <h3>Relationship to Victim</h3>
              <app-field label="Are you an immediate family member?">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="relationshipImmediateFamilyMember" formControlName="relationshipImmediateFamilyMember">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="relationshipImmediateFamilyMember" formControlName="relationshipImmediateFamilyMember">
                  <span>No</span>
                </label>
              </app-field>

              <section *ngIf="form.get('representativeInformation.relationshipImmediateFamilyMember').value === true">
                <app-field label="What is your relationship to the victim? (e.g. mother)">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="relationshipToVictim">
                </app-field>
              </section>

              <app-field label="Are you a legal representative?">
                <label class="inline-label">
                  <input type="radio" [value]="true" name="relationshipLegalRepresentative" formControlName="relationshipLegalRepresentative">
                  <span>Yes</span>
                </label>
                <label class="inline-label">
                  <input type="radio" [value]="false" name="relationshipLegalRepresentative" formControlName="relationshipLegalRepresentative">
                  <span>No</span>
                </label>
              </app-field>

              <section *ngIf="form.get('representativeInformation.relationshipLegalRepresentative').value === true">
                <app-field label="What is your authority? (e.g. Public Guardian and Trustee)">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="relationshipLegalAuthority">
                </app-field>
              </section>

              <p>If you are not the natural or adoptive parent of the applicant, please attach a copy of any court order or other document that is proof of guardianship / trusteeship</p>
              <div class="file-upload-placeholder">
                [upload functionality goes here]
              </div>
            </section>
          </div>

          <div formGroupName="declarationInformation" *ngIf="this.currentFormStep == 7">
            <h1>Declaration</h1>
            <p>Information supplied on this form is necessary to determine your eligibility for benefits, and is collected under the authority of Section 6 of the <em>Crime Victim Assistance Act</em>.  Any information collected will be used only for the purposes of adjudicating your claim for benefits.</p>
            <p>By signing this section you declare that the information you have provided on this application is true and correct. It is an offence to provide false or misleading information on this application and may lead to prosecution. If it is discovered at a lter time that false or misleading information has been provided on this application form, you may be rquired to repay to CVAP any benefits received.</p>

            <section>
              <h2 class="blue-header">Declaration & Signature</h2>
              <app-field [required]="true" [valid]="form.get('declarationInformation.declaredAndSigned').valid || !form.get('declarationInformation.declaredAndSigned').touched" errorMessage="Please check declaration">
                <label>
                  <input type="checkbox" [value]="true" name="declaredAndSigned" formControlName="declaredAndSigned">
                  I submit this application in support of a claim for benefits available to Victims under the Crime Victim Assistance Act, and declare the information provided in this application for benefits is true and correct.
                </label>
              </app-field>

              <app-field label="Applicant's Signature" [required]="true" [valid]="form.get('declarationInformation.signature').valid || !form.get('declarationInformation.signature').touched" errorMessage="Please provide your digital signature">
                <input class="form-control" style="width: 350px;" type="text" formControlName="signature" placeholder="Please type your full name">
                <p><em>Electronic Signature Agreement: By inserting my name, I confirm that my electronic signature represents the legal equivalent to my handwritten signature, in compliance with the <a href="#">Electronic Transaction Act of BC, 10(1)</a>.</em></p>
              </app-field>

              <app-field label="Date" [required]="true" [valid]="form.get('declarationInformation.signDate').valid || !form.get('declarationInformation.signDate').touched" errorMessage="Please enter the date">
                <input type="text" class="form-control" formControlName="signDate" placeholder="yyyy-mm-dd"
                       [matDatepicker]="signDatePicker" (focus)="signDatePicker.open()" (click)="signDatePicker.open()" readonly style="width: 200px; background-color: #fff;">
                <mat-datepicker #signDatePicker></mat-datepicker>
              </app-field>

            </section>
          </div>

          <div formGroupName="authorizationInformation" *ngIf="this.currentFormStep == 8">
            <h1>Authorization</h1>
            <p>Information suppllied on this form is necessary to determine your eligibility for benefits, and is collected under the authority of Section 6 of the <em>Crime Victim Assistance Act</em>. Any information collected will be used only for the purposes of adjudicating your claim for benefits.This section authorizes the Crime Victim Assistance Program to contact the persons and organizations listed so that we may process your claim for benefits. Your application will be returned if this section is not signed and dated. You may be required to submit other authorizations that are needed to process your claim. If you have any questions about the collection and use of the information gathered by the Crime Victim Assistance Program, please contact the program at (604) 660-3888 or toll free in B.C. at 1-866-660-3888.</p>

            <section>
              <h2>By signing this section you hereby authorize:</h2>
              <ol>
                <li>The doctor, dentist, optometrist, chiropractor, or other health care progressional who treated my injuries (physical and/or psychological) to give the Crime Victim Assistance Program, on request, medical or other reports regarding my injuries, treatment or other information relevant to this application;</li>
                <li>The police or other law enforcement authorities to give the Crime Victim Assistance Program, on request, a copy of police reports, statements, incident reports or other information relevant to this application;</li>
                <li>The Workers' Compensation Board of BC or other authority from which the victim received or will receive or will be eligible to receieve payments from provincial, federal or other jurisdictions funds to give the Crime Victim Assistance Program, on request, information relevant to this application.</li>
                <li>My employer(s) or similar authority to give the Crime Victim Assistance Program, on request, information as to my employment earnings, benefits or other information relevant to this application;</li>
                <li>Any accident, disability, sickness, life insurance/assurance company or private pension scheme or extended health benefits scheme from which payments or services were received or wlil be received to give the Crime Victim Assistance Program, on request, information relevant to this application;</li>
                <li>Human Resources and Skills Development Canada or Aboriginal Affairs and Northern Development Canada or any other authority from which payments were received or will be received to give the Crime Victim Assistance Program, on request information relevant to this application;</li>
                <li>The Canada Employment Insurance Commission or the Canada Pension Plan or similar employment insurance and pension plans from other jurisdictions, to give the Crime Victim Assistance Program, on request, information as to benefits received or to be received relevant to this application; and,</li>
                <li>Canada Revenue Agency or other similar agency in any other jurisdiction, to give the Crime Victim Assistance Program, upon request information as to my employment income.
                <li>The Ministry of Children and Family Development (MCFD) to give the Crime Victim Assistance Program, on request, a copy of information relevant to this application.</li>
              </ol>
            </section>

            <section>
              <h2 class="blue-header">Standard Authorization & Signature</h2>
              <app-field [required]="true" [valid]="form.get('authorizationInformation.approvedAuthorityNotification').valid || !form.get('authorizationInformation.approvedAuthorityNotification').touched" errorMessage="Please check declaration">
                <label>
                  <input type="checkbox" [value]="true" name="approvedAuthorityNotification" formControlName="approvedAuthorityNotification">
                  I understand that the Crime Victim Assistance Program may notify the above authorities that I have submitted an application for benefits pursuant to the <em>Crime Victim Assistance Act</em>.
                </label>
              </app-field>

              <app-field [required]="true" [valid]="form.get('authorizationInformation.readAndUnderstoodTermsAndConditions').valid || !form.get('authorizationInformation.readAndUnderstoodTermsAndConditions').touched" errorMessage="Please check declaration">
                <label>
                  <input type="checkbox" [value]="true" name="readAndUnderstoodTermsAndConditions" formControlName="readAndUnderstoodTermsAndConditions">
                  I have read and understood the above information
                </label>
              </app-field>

              <app-field label="Applicant's Signature" [required]="true" [valid]="form.get('authorizationInformation.signature').valid || !form.get('authorizationInformation.signature').touched" errorMessage="Please provide your digital signature">
                <input class="form-control" style="width: 350px;" type="text" formControlName="signature" placeholder="Please type your full name">
                <p><em>Electronic Signature Agreement: By inserting my name, I confirm that my electronic signature represents the legal equivalent to my handwritten signature, in compliance with the <a href="#">Electronic Transaction Act of BC, 10(1)</a>.</em></p>
              </app-field>

              <app-field label="Date" [required]="true" [valid]="form.get('authorizationInformation.signDate').valid || !form.get('authorizationInformation.signDate').touched" errorMessage="Please enter the date">
                <input type="text" class="form-control" formControlName="signDate" placeholder="yyyy-mm-dd"
                       [matDatepicker]="authSignDatePicker" (focus)="authSignDatePicker.open()" (click)="authSignDatePicker.open()" readonly style="width: 200px; background-color: #fff;">
                <mat-datepicker #authSignDatePicker></mat-datepicker>
              </app-field>

              <h2 class="blue-header">Optional Authorization</h2>
              <app-field label="CVAP staff requires your written permission to discuss information in your file with other persons.<br />Would you like to allow CVAP staff to discuss your file with another person, such as a family member or victim service worker?">
                <input type="radio" [value]="true" name="allowCvapStaffSharing" formControlName="allowCvapStaffSharing">
                <span>Yes</span>
                <input type="radio" [value]="false" name="allowCvapStaffSharing" formControlName="allowCvapStaffSharing">
                <span>No</span>
              </app-field>

              <section *ngIf="form.get('authorizationInformation.allowCvapStaffSharing').value === true">
                <h3>Authorized Person</h3>
                <app-field label="Full Name">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="authorizedPersonFullName">
                </app-field>

                <app-field label="Phone Number (incl. area code)" [required]="true" [valid]="form.get('authorizationInformation.authorizedPersonPhoneNumber').valid || !form.get('authorizationInformation.authorizedPersonPhoneNumber').touched" errorMessage="Please enter a phone number">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="authorizedPersonPhoneNumber">
                </app-field>

                <app-field label="Relationship to you (applicant)">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="authorizedPersonRelationship">
                </app-field>

                <app-field label="Agency Name">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="authorizedPersonAgencyName">
                </app-field>

                <app-field label="Agency Address (Apt. No., Street Number, Street Address, PO Box)">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="authorizedPersonAgencyAddress">
                </app-field>

                <app-field [required]="true" [valid]="form.get('authorizationInformation.authorizedPersonAuthorizesDiscussion').valid || !form.get('authorizationInformation.authorizedPersonAuthorizesDiscussion').touched" errorMessage="Please check declaration">
                  <label>
                    <input type="checkbox" [value]="true" name="authorizedPersonAuthorizesDiscussion" formControlName="authorizedPersonAuthorizesDiscussion">
                    I hereby authorize the Crime Victim Assistance Program staff to discuss my claim with the above named authorized person.
                  </label>
                </app-field>

                <app-field label="Applicant's Signature" [required]="true" [valid]="form.get('authorizationInformation.authorizedPersonSignature').valid || !form.get('authorizationInformation.authorizedPersonSignature').touched" errorMessage="Please provide your digital signature">
                  <input class="form-control" style="width: 350px;" type="text" formControlName="authorizedPersonSignature" placeholder="Please type your full name">
                  <p><em>Electronic Signature Agreement: By inserting my name, I confirm that my electronic signature represents the legal equivalent to my handwritten signature, in compliance with the <a href="#">Electronic Transaction Act of BC, 10(1)</a>.</em></p>
                </app-field>

                <app-field label="Date" [required]="true" [valid]="form.get('authorizationInformation.authorizedPersonSignDate').valid || !form.get('authorizationInformation.authorizedPersonSignDate').touched" errorMessage="Please enter the date">
                  <input type="text" class="form-control" formControlName="authorizedPersonSignDate" placeholder="yyyy-mm-dd"
                         [matDatepicker]="authorizedPersonSignDatePicker" (focus)="authorizedPersonSignDatePicker.open()" (click)="authorizedPersonSignDatePicker.open()" readonly style="width: 200px; background-color: #fff;">
                  <mat-datepicker #authorizedPersonSignDatePicker></mat-datepicker>
                </app-field>

              </section>

            </section>
          </div>

          <div *ngIf="this.currentFormStep == 9">
            <h1>Review & Submit</h1>
            <p>Please check the accuracy of the information entered in your application before submitting.</p>

            <section>
              <h2 class="blue-header">Overview</h2>

              <p>[ ] I have read and understood all the above information.</p>

            </section>

            <section>
              <h2 class="blue-header">Personal Information & Addresses</h2>
              <h3>Applicant Name</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>First Name</th>
                    <td>{{ form.get('personalInformation.firstName').value }} </td>
                  </tr>
                  <tr>
                    <th>Middle Name</th>
                    <td>{{ form.get('personalInformation.middleName').value }} </td>
                  </tr>
                  <tr>
                    <th>Last Name</th>
                    <td>{{ form.get('personalInformation.lastName').value }} </td>
                  </tr>
                  <tr>
                    <th>Other First Name</th>
                    <td>{{ orEmpty(form.get('personalInformation.otherFirstName')) }} </td>
                  </tr>
                  <tr>
                    <th>Other Last Name</th>
                    <td>{{ valueOrEmpty('personalInformation.otherFirstName') }} </td>
                  </tr>
                  <tr>
                    <th>Date of Name Change</th>
                    <td>{{ form.get('personalInformation.dateOfNameChange').value }} </td>
                  </tr>
                </tbody>
              </table>

              <h3>Other Details</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>Primary Phone Number</th>
                    <td>{{ form.get('personalInformation.phoneNumber').value }} </td>
                  </tr>
                  <tr>
                    <th>Email Address</th>
                    <td>{{ form.get('personalInformation.email').value }} </td>
                  </tr>
                  <tr>
                    <th>Birth Date</th>
                    <td>{{ form.get('personalInformation.birthDate') }} </td>
                  </tr>
                  <tr>
                    <th>Social Insurance Number (SIN)</th>
                    <td>{{ form.get('personalInformation.sinPart1').value }}-{{ form.get('personalInformation.sinPart2').value }}-{{ form.get('personalInformation.sinPart3').value }} (do this sin better)</td>
                  </tr>
                  <tr>
                    <th>Gender</th>
                    <td>{{ form.get('personalInformation.gender').value }} </td>
                  </tr>
                  <tr>
                    <th>Marital Status</th>
                    <td>{{ form.get('personalInformation.maritalStatus').value }} </td>
                  </tr>
                  <tr>
                    <th>Occupation</th>
                    <td>{{ form.get('personalInformation.occupation').value }} </td>
                  </tr>
                </tbody>
              </table>

              <h3>Primary Address</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>Mailing Address</th>
                    <td>{{ form.get('personalInformation.primaryAddressLine1').value }} </td>
                  </tr>
                  <tr>
                    <th>City</th>
                    <td>{{ form.get('personalInformation.primaryAddressCity').value }} </td>
                  </tr>
                  <tr>
                    <th>Province</th>
                    <td>{{ form.get('personalInformation.primaryAddressProvince').value }} </td>
                  </tr>
                  <tr>
                    <th>Postal Code</th>
                    <td>{{ form.get('personalInformation.primaryAddressPostalCode').value }}</td>
                  </tr>
                </tbody>
              </table>

              <h3>Alternate Address</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>Mailing Address</th>
                    <td>{{ form.get('personalInformation.alternateAddressLine1').value }} </td>
                  </tr>
                  <tr>
                    <th>City</th>
                    <td>{{ form.get('personalInformation.alternateAddressCity').value }} </td>
                  </tr>
                  <tr>
                    <th>Province</th>
                    <td>{{ form.get('personalInformation.alternateAddressProvince').value }} </td>
                  </tr>
                  <tr>
                    <th>Postal Code</th>
                    <td>{{ form.get('personalInformation.alternateAddressPostalCode').value }}</td>
                  </tr>
                </tbody>
              </table>

            </section>

            <section>
              <h2 class="blue-header">Crime Information</h2>
              <h3>Crime Occurence</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>Type of Crime</th>
                    <td>{{ form.get('crimeInformation.typeOfCrime').value }} </td>
                  </tr>
                  <tr>
                    <th>When did this crime occur?</th>
                    <td>-- single date, or date range output --</td>
                  </tr>
                  <tr>
                    <th>Is this application being filed within one year of the date of the crime?</th>
                    <td>{{ form.get('crimeInformation.applicationFiledWithinOneYearFromCrime').value }} </td>
                  </tr>
                  <tr>
                    <th>Why you did not apply sooner?</th>
                    <td>{{ form.get('crimeInformation.whyDidYouNotApplySooner').value }} </td>
                  </tr>
                  <tr>
                    <th>Crime Location(s)</th>
                    <td>{{ form.get('crimeInformation.crimeLocations').value }} </td>
                  </tr>
                  <tr>
                    <th>Crime Detail(s)</th>
                    <td>{{ form.get('crimeInformation.crimeDetails').value }} </td>
                  </tr>
                  <tr>
                    <th>Associated Injuries</th>
                    <td>{{ form.get('crimeInformation.crimeInjuries').value }} </td>
                  </tr>
                  <tr>
                    <th>Additional Information</th>
                    <td>-- output file list here --</td>
                  </tr>
                </tbody>
              </table>

              <h3>Police Involvement</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>Was the report made to the police?</th>
                    <td>{{ form.get('crimeInformation.wasReportMadeToPolice').value }} </td>
                  </tr>
                  <tr>
                    <th>[NO CASE] Who was the report made to (e.g. doctor, social worker, counsellor, other)?</th>
                    <td>{{ form.get('crimeInformation.noPoliceReportIndentification').value }} </td>
                  </tr>
                  <tr>
                    <th>[YES CASE] To which police was the report made?</th>
                    <td>{{ form.get('crimeInformation.policeReportedWhichPoliceForce').value }} </td>
                  </tr>
                  <tr>
                    <th>Date of report</th>
                    <td>-- single date, or date range output --</td>
                  </tr>
                  <tr>
                    <th>Police File Number</th>
                    <td>{{ form.get('crimeInformation.policeReportedPoliceFileNumber').value }} </td>
                  </tr>
                  <tr>
                    <th>Name of Investigating Officer</th>
                    <td>{{ form.get('crimeInformation.policeReportedInvestigatingOfficer').value }} </td>
                  </tr>
                </tbody>
              </table>

              <h3>Offender & Court Information</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>Offender Name</th>
                    <td>{{ form.get('crimeInformation.offenderFirstName').value }} {{ form.get('crimeInformation.offenderMiddleName').value }} {{ form.get('crimeInformation.offenderLastName').value }} </td>
                  </tr>
                  <tr>
                    <th>Relationship to offender</th>
                    <td>{{ form.get('crimeInformation.offenderRelationship').value }} </td>
                  </tr>
                  <tr>
                    <th>Has the alleged offender been charged?</th>
                    <td>{{ form.get('crimeInformation.offenderBeenCharged').value }} </td>
                  </tr>
                  <tr>
                    <th>Court File Number</th>
                    <td>{{ form.get('crimeInformation.courtFileNumber').value }} </td>
                  </tr>
                  <tr>
                    <th>Court Location</th>
                    <td>{{ form.get('crimeInformation.courtLocation').value }} </td>
                  </tr>
                  <tr>
                    <th>Have you sued the alleged offender(s)?</th>
                    <td>{{ form.get('crimeInformation.haveYouSuedOffender').value }} </td>
                  </tr>
                  <tr>
                    <th>Do you intend to sue the alleged offender?</th>
                    <td>{{ form.get('crimeInformation.intendToSueOffender').value }} </td>
                  </tr>
                  <tr>
                    <th>Court File Number</th>
                    <td>{{ form.get('crimeInformation.suedCourtFileNumber').value }} </td>
                  </tr>
                  <tr>
                    <th>Court Location</th>
                    <td>{{ form.get('crimeInformation.suedCourtLocation').value }} </td>
                  </tr>
                </tbody>
              </table>
            </section>

            <section>
              <h2 class="blue-header">Medical & Dental Information</h2>
              <h3>Coverage</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>Do you have medical services coverage?</th>
                    <td>{{ form.get('medicalInformation.doYouHaveMedicalServicesCoverage').value }} </td>
                  </tr>
                  <tr>
                    <th>Personal Health Number</th>
                    <td>{{ form.get('medicalInformation.personalHealthNumber').value }} </td>
                  </tr>
                  <tr>
                    <th>Do you have other health coverage?</th>
                    <td>{{ form.get('medicalInformation.doYouHaveOtherHealthCoverage').value }} </td>
                  </tr>
                  <tr>
                    <th>Name of provider</th>
                    <td>{{ form.get('medicalInformation.otherHealthCoverageProviderName').value }} </td>
                  </tr>
                  <tr>
                    <th>Extended Health Plan Number</th>
                    <td>{{ form.get('medicalInformation.otherHealthCoverageExtendedPlanNumber').value }} </td>
                  </tr>
                </tbody>
              </table>

              <h3>Treatment</h3>
              <table class="table table-striped review-table">
                <tbody>
                  <tr>
                    <th>Were you treated at a hospital?</th>
                    <td>{{ form.get('medicalInformation.weYouTreatedAtHospital').value }} </td>
                  </tr>
                  <tr>
                    <th>Name of hospital</th>
                    <td>{{ form.get('medicalInformation.treatedAtHospitalName').value }} </td>
                  </tr>
                  <tr>
                    <th>Date of treatment</th>
                    <td>-- treatedAtHospitalDate -- </td>
                  </tr>
                  <tr>
                    <th>Family doctor's name</th>
                    <td>{{ form.get('medicalInformation.familyDoctorName').value }} </td>
                  </tr>
                  <tr>
                    <th>Family doctor's Phone Number</th>
                    <td>{{ form.get('medicalInformation.familyDoctorPhoneNumber').value }} </td>
                  </tr>
                  <tr>
                    <th>Family doctor's Address</th>
                    <td>{{ form.get('medicalInformation.familyDoctorAddress').value }} </td>
                  </tr>
                  <tr>
                    <th>Other Treatments</th>
                    <td>
                      Figure out how to loop on form thing
                    </td>
                  </tr>
                </tbody>
              </table>
            </section>
          </div>

          <div *ngIf="!form.valid && form.touched" class="error-summary">
            <i class="fas fa-exclamation-triangle" style="margin-right: 10px;"></i>
            <span>Some required fields have not been completed</span>
          </div>

          <section class="button-container">
            <div [ngBusy]="[busy3]"></div>
            <button (click)="gotoNextStep(stepper);" class="btn btn-primary" *ngIf="stepper.selectedIndex < 9">CONTINUE <i class="fas fa-chevron-right"></i></button>
            <button (click)="markAsTouched(); submitApplication();" class="btn btn-primary" *ngIf="stepper.selectedIndex == 9">SUBMIT APPLICATION <i class="fas fa-chevron-right"></i></button>
            <span style="float: right;">
              <a routerLink="/application-cancelled"><i class="fas fa-trash-alt" style="margin-right: 10px;"></i>Cancel Application</a>
            </span>
          </section>
        </div>
      </div>
    </div>

  </div>
</div>
